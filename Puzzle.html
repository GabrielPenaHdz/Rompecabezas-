<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rompecabezas</title>
</head>
<body>
    <center>
        <h3>
         Rompecabezas   
        </h3>
        <table>
            <tr>
                <td> <img id="0" src="Imagenes/0.jpg" onclick="seleccionar(0)" /></td>
                <td> <img id="1" src="Imagenes/1.jpg" onclick="seleccionar(1)" /></td>
                <td> <img id="2" src="Imagenes/2.jpg" onclick="seleccionar(2)" /></td>
            </tr>

            <tr>
                <td> <img id="3" src="Imagenes/3.jpg" onclick="seleccionar(3)" /></td>
                <td> <img id="4" src="Imagenes/4.jpg" onclick="seleccionar(4)" /></td>
                <td> <img id="5" src="Imagenes/5.jpg" onclick="seleccionar(5)" /></td>
            </tr>

            <tr>
                <td> <img id="6" src="Imagenes/6.jpg" onclick="seleccionar(6)" /></td>
                <td> <img id="7" src="Imagenes/7.jpg" onclick="seleccionar(7)" /></td>
                <td> <img id="8" src="Imagenes/8.jpg" onclick="seleccionar(8)" /></td>
            </tr>
        </table>
    </center>
</body>
<script type="text/javascript">
    

    function desordenar (){
        piezas = piezas.sort(function() {return Math.random() - 0.5});
        console.log(piezas);
    }

    function desmarcar (){
        //Eliminar los bordes de todas las piezas 
        for(var i = 0; i <= 8; i++){
            document.getElementById(i).style.border = null;
        }
        
    }

    function seleccionar(casilla){
        num_click = num_click + 1;
        console.log("Click en casilla: " + num_click);

        if(num_click == 1){
            casilla_click_1 = casilla;
            desmarcar();
            document.getElementById(casilla).style.border = "solid 4px #C6FDAC";
            console.log("Casilla primer click" + casilla_click_1);
        }
        if (num_click ==2){
            var casilla_click_2 = casilla;
            console.log(piezas);
            var aux = piezas[casilla_click_1];
            piezas [casilla_click_1] = piezas [casilla_click_2];
            piezas [casilla_click_2] = aux;
            console.log(piezas);
            num_click = 0;
            refrescar();

            //TAREAS FALTANTES POR AHORA
            //comprobar el rompecabezas
            //quitar los bordes 
            desmarcar();
        }
    }

    function refrescar(){
        for(var i = 0; i <= 8; i++){
            var Imagen = piezas [i];
            document.getElementById(i).src = "Imagenes/"+Imagen+".jpg";
        }
    }

    var num_click = 0;
    var casilla_click_1;
    var piezas = [0, 1, 2, 3, 4, 5, 6, 7, 8]
    desordenar();
    refrescar();
</script>

</html>